<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Schedule Coordinator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-radius: 15px;
            background: #f8f9fa;
            padding: 5px;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .tab.active {
            background: #667eea;
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .schedule-input {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .calendar-view {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            margin-bottom: 20px;
        }

        .day-header {
            background: #6c757d;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: 600;
        }

        .day-cell {
            background: #f8f9fa;
            min-height: 120px;
            padding: 8px;
            border: 1px solid #e9ecef;
            position: relative;
        }

        .day-number {
            font-weight: 600;
            color: #495057;
            margin-bottom: 5px;
        }

        .schedule-item {
            background: #dc3545;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-bottom: 2px;
            word-wrap: break-word;
        }

        .schedule-item.night-shift {
            background: linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%);
        }

        .schedule-item.car-ride {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .schedule-list {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .schedule-list h4 {
            color: #495057;
            margin-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 8px;
        }

        .schedule-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #6c757d;
        }

        .schedule-list-item.night-shift {
            border-left-color: #6f42c1;
        }

        .schedule-list-item.car-ride {
            border-left-color: #28a745;
        }

        .schedule-details {
            flex: 1;
        }

        .schedule-date {
            font-weight: 600;
            color: #495057;
        }

        .schedule-info {
            font-size: 14px;
            color: #6c757d;
            margin-top: 4px;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .delete-btn:hover {
            background: #c82333;
            transform: scale(1.05);
        }

        .no-schedules {
            text-align: center;
            color: #6c757d;
            font-style: italic;
            padding: 20px;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .google-calendar-note {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .google-calendar-note h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .time-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .time-input input {
            flex: 1;
        }

        /* Tablet and small desktop */
        @media (max-width: 1024px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .calendar-grid {
                gap: 1px;
            }
            
            .day-cell {
                min-height: 100px;
                padding: 6px;
            }
            
            .schedule-item {
                font-size: 11px;
                padding: 3px 6px;
            }
        }

        /* Mobile landscape and small tablets */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            h1 {
                font-size: 1.8em;
                margin-bottom: 20px;
            }
            
            .tabs {
                flex-direction: column;
                gap: 5px;
            }
            
            .tab {
                padding: 12px;
                font-size: 14px;
            }
            
            .schedule-input {
                padding: 20px;
            }
            
            .calendar-view {
                padding: 15px;
            }
            
            .calendar-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .calendar-header h2 {
                font-size: 1.4em;
            }
            
            .calendar-grid {
                font-size: 13px;
                gap: 1px;
            }
            
            .day-cell {
                min-height: 80px;
                padding: 4px;
            }
            
            .schedule-item {
                font-size: 10px;
                padding: 2px 4px;
                margin-bottom: 1px;
            }
            
            .legend {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .legend-item {
                font-size: 14px;
            }
            
            .time-input {
                flex-direction: column;
                align-items: stretch;
            }
            
            .time-input span {
                text-align: center;
                margin: 5px 0;
            }
            
            .btn {
                padding: 15px;
                font-size: 16px;
                width: 100%;
            }
        }

        /* Mobile portrait */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 10px;
                margin: 5px;
                border-radius: 15px;
            }
            
            h1 {
                font-size: 1.6em;
                margin-bottom: 15px;
            }
            
            .google-calendar-note {
                padding: 10px;
                font-size: 14px;
            }
            
            .schedule-input {
                padding: 15px;
            }
            
            .calendar-view {
                padding: 10px;
            }
            
            .calendar-header {
                gap: 10px;
            }
            
            .calendar-header h2 {
                font-size: 1.2em;
            }
            
            .calendar-header .btn {
                padding: 8px 16px;
                font-size: 14px;
                width: auto;
            }
            
            .calendar-grid {
                font-size: 12px;
            }
            
            .day-header {
                padding: 6px 4px;
                font-size: 11px;
            }
            
            .day-cell {
                min-height: 70px;
                padding: 3px;
            }
            
            .day-number {
                font-size: 12px;
            }
            
            .schedule-item {
                font-size: 9px;
                padding: 2px 3px;
                border-radius: 3px;
            }
            
            .legend {
                gap: 8px;
            }
            
            .legend-item {
                font-size: 13px;
            }
            
            .legend-color {
                width: 16px;
                height: 16px;
            }
            
            input, select, textarea {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 10px;
            }
            
            .input-group {
                margin-bottom: 15px;
            }
            
            label {
                font-size: 14px;
            }
        }

        /* Very small screens */
        @media (max-width: 320px) {
            .container {
                padding: 8px;
            }
            
            h1 {
                font-size: 1.4em;
            }
            
            .day-cell {
                min-height: 60px;
                padding: 2px;
            }
            
            .schedule-item {
                font-size: 8px;
                padding: 1px 2px;
            }
            
            .calendar-header .btn {
                padding: 6px 12px;
                font-size: 12px;
            }
        }

        /* Large screens */
        @media (min-width: 1400px) {
            .container {
                max-width: 1400px;
                padding: 40px;
            }
            
            .calendar-grid {
                gap: 3px;
            }
            
            .day-cell {
                min-height: 140px;
                padding: 10px;
            }
            
            .schedule-item {
                font-size: 13px;
                padding: 5px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>👨‍👩‍👧‍👦 Family Schedule Coordinator</h1>
        


        <div class="tabs">
            <div class="tab active" onclick="showTab('mom')">Mom's Night Shifts</div>
            <div class="tab" onclick="showTab('kids')">Kids' Car Rides</div>
            <div class="tab" onclick="showTab('calendar')">Dad's View</div>
        </div>

        <div id="mom-tab" class="tab-content active">
            <div class="schedule-input">
                <h3>🌙 Add Mom's Night Shift</h3>
                <div class="input-group">
                    <label for="shift-date">Date:</label>
                    <input type="date" id="shift-date">
                </div>
                <div class="input-group">
                    <label for="shift-time">Time:</label>
                    <div class="time-input">
                        <input type="time" id="shift-start" placeholder="Start">
                        <span>to</span>
                        <input type="time" id="shift-end" placeholder="End">
                    </div>
                </div>
                <div class="input-group">
                    <label for="shift-notes">Notes:</label>
                    <textarea id="shift-notes" rows="3" placeholder="Hospital, department, special instructions..."></textarea>
                </div>
                <button class="btn" onclick="addNightShift()">Add Night Shift</button>
            </div>
            
            <div class="schedule-list">
                <h4>📋 Current Night Shifts</h4>
                <div id="night-shift-list">
                    <!-- Night shifts will be listed here -->
                </div>
            </div>
        </div>

        <div id="kids-tab" class="tab-content">
            <div class="schedule-input">
                <h3>🚗 Add Kids' Car Ride</h3>
                <div class="input-group">
                    <label for="ride-date">Date:</label>
                    <input type="date" id="ride-date">
                </div>
                <div class="input-group">
                    <label for="ride-time">Time:</label>
                    <input type="time" id="ride-time">
                </div>
                <div class="input-group">
                    <label for="ride-child">Child:</label>
                    <select id="ride-child">
                        <option value="">Select child</option>
                        <option value="Child 1">Child 1</option>
                        <option value="Child 2">Child 2</option>
                        <option value="Child 3">Child 3</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ride-destination">Destination:</label>
                    <input type="text" id="ride-destination" placeholder="School, practice, friend's house...">
                </div>
                <div class="input-group">
                    <label for="ride-type">Type:</label>
                    <select id="ride-type">
                        <option value="pickup">Pickup</option>
                        <option value="dropoff">Drop-off</option>
                        <option value="both">Both ways</option>
                    </select>
                </div>
                <button class="btn" onclick="addCarRide()">Add Car Ride</button>
            </div>
            
            <div class="schedule-list">
                <h4>📋 Current Car Rides</h4>
                <div id="car-ride-list">
                    <!-- Car rides will be listed here -->
                </div>
            </div>
        </div>

        <div id="calendar-tab" class="tab-content">
            <div class="calendar-view">
                <div class="calendar-header">
                    <button class="btn" onclick="previousMonth()">← Previous</button>
                    <h2 id="current-month">December 2024</h2>
                    <button class="btn" onclick="nextMonth()">Next →</button>
                </div>
                <div class="calendar-grid" id="calendar-grid">
                    <!-- Calendar will be generated here -->
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%);"></div>
                        <span>Mom's Night Shift</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);"></div>
                        <span>Kids' Car Ride</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let scheduleData = {
            nightShifts: [],
            carRides: []
        };

        // Sample data with IDs for deletion
        scheduleData.nightShifts = [
            { id: 1, date: '2024-12-20', startTime: '22:00', endTime: '06:00', notes: 'Emergency Room' },
            { id: 2, date: '2024-12-22', startTime: '23:00', endTime: '07:00', notes: 'ICU' }
        ];

        scheduleData.carRides = [
            { id: 1, date: '2024-12-21', time: '15:30', child: 'Child 1', destination: 'Soccer practice', type: 'dropoff' },
            { id: 2, date: '2024-12-21', time: '17:00', child: 'Child 1', destination: 'Soccer practice', type: 'pickup' },
            { id: 3, date: '2024-12-23', time: '08:00', child: 'Child 2', destination: 'School', type: 'dropoff' }
        ];

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'calendar') {
                generateCalendar();
            } else if (tabName === 'mom') {
                updateNightShiftList();
            } else if (tabName === 'kids') {
                updateCarRideList();
            }
        }

        function addNightShift() {
            const date = document.getElementById('shift-date').value;
            const startTime = document.getElementById('shift-start').value;
            const endTime = document.getElementById('shift-end').value;
            const notes = document.getElementById('shift-notes').value;

            if (date && startTime && endTime) {
                const newShift = {
                    id: Date.now(), // Simple unique ID
                    date: date,
                    startTime: startTime,
                    endTime: endTime,
                    notes: notes
                };
                
                scheduleData.nightShifts.push(newShift);
                updateNightShiftList();

                // Clear form
                document.getElementById('shift-date').value = '';
                document.getElementById('shift-start').value = '';
                document.getElementById('shift-end').value = '';
                document.getElementById('shift-notes').value = '';

                alert('Night shift added successfully!');
            } else {
                alert('Please fill in all required fields.');
            }
        }

        function addCarRide() {
            const date = document.getElementById('ride-date').value;
            const time = document.getElementById('ride-time').value;
            const child = document.getElementById('ride-child').value;
            const destination = document.getElementById('ride-destination').value;
            const type = document.getElementById('ride-type').value;

            if (date && time && child && destination) {
                const newRide = {
                    id: Date.now(), // Simple unique ID
                    date: date,
                    time: time,
                    child: child,
                    destination: destination,
                    type: type
                };
                
                scheduleData.carRides.push(newRide);
                updateCarRideList();

                // Clear form
                document.getElementById('ride-date').value = '';
                document.getElementById('ride-time').value = '';
                document.getElementById('ride-child').value = '';
                document.getElementById('ride-destination').value = '';
                document.getElementById('ride-type').value = 'pickup';

                alert('Car ride added successfully!');
            } else {
                alert('Please fill in all required fields.');
            }
        }

        function deleteNightShift(id) {
            if (confirm('Are you sure you want to delete this night shift?')) {
                scheduleData.nightShifts = scheduleData.nightShifts.filter(shift => shift.id !== id);
                updateNightShiftList();
                // Refresh calendar if currently viewing it
                if (document.getElementById('calendar-tab').classList.contains('active')) {
                    generateCalendar();
                }
            }
        }

        function deleteCarRide(id) {
            if (confirm('Are you sure you want to delete this car ride?')) {
                scheduleData.carRides = scheduleData.carRides.filter(ride => ride.id !== id);
                updateCarRideList();
                // Refresh calendar if currently viewing it
                if (document.getElementById('calendar-tab').classList.contains('active')) {
                    generateCalendar();
                }
            }
        }

        function updateNightShiftList() {
            const listContainer = document.getElementById('night-shift-list');
            
            if (scheduleData.nightShifts.length === 0) {
                listContainer.innerHTML = '<div class="no-schedules">No night shifts scheduled</div>';
                return;
            }

            // Sort by date
            const sortedShifts = scheduleData.nightShifts.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            listContainer.innerHTML = sortedShifts.map(shift => `
                <div class="schedule-list-item night-shift">
                    <div class="schedule-details">
                        <div class="schedule-date">${formatDate(shift.date)}</div>
                        <div class="schedule-info">
                            🌙 ${shift.startTime} - ${shift.endTime}
                            ${shift.notes ? ` | ${shift.notes}` : ''}
                        </div>
                    </div>
                    <button class="delete-btn" onclick="deleteNightShift(${shift.id})">Delete</button>
                </div>
            `).join('');
        }

        function updateCarRideList() {
            const listContainer = document.getElementById('car-ride-list');
            
            if (scheduleData.carRides.length === 0) {
                listContainer.innerHTML = '<div class="no-schedules">No car rides scheduled</div>';
                return;
            }

            // Sort by date and time
            const sortedRides = scheduleData.carRides.sort((a, b) => {
                const dateCompare = new Date(a.date) - new Date(b.date);
                if (dateCompare === 0) {
                    return a.time.localeCompare(b.time);
                }
                return dateCompare;
            });
            
            listContainer.innerHTML = sortedRides.map(ride => `
                <div class="schedule-list-item car-ride">
                    <div class="schedule-details">
                        <div class="schedule-date">${formatDate(ride.date)}</div>
                        <div class="schedule-info">
                            🚗 ${ride.time} | ${ride.child} | ${ride.destination} | ${ride.type}
                        </div>
                    </div>
                    <button class="delete-btn" onclick="deleteCarRide(${ride.id})">Delete</button>
                </div>
            `).join('');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                weekday: 'short', 
                month: 'short', 
                day: 'numeric',
                year: 'numeric'
            });
        }

        function generateCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Update month header
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('current-month').textContent = `${monthNames[month]} ${year}`;

            // Clear calendar
            const calendarGrid = document.getElementById('calendar-grid');
            calendarGrid.innerHTML = '';

            // Add day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.classList.add('day-header');
                dayHeader.textContent = day;
                calendarGrid.appendChild(dayHeader);
            });

            // Get first day of month and days in month
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            // Add empty cells for days before first day of month
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.classList.add('day-cell');
                calendarGrid.appendChild(emptyCell);
            }

            // Add days of month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                dayCell.classList.add('day-cell');
                
                const dayNumber = document.createElement('div');
                dayNumber.classList.add('day-number');
                dayNumber.textContent = day;
                dayCell.appendChild(dayNumber);

                // Format date for comparison
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;

                // Add night shifts
                scheduleData.nightShifts.forEach(shift => {
                    if (shift.date === dateStr) {
                        const shiftItem = document.createElement('div');
                        shiftItem.classList.add('schedule-item', 'night-shift');
                        shiftItem.textContent = `🌙 ${shift.startTime}-${shift.endTime}`;
                        dayCell.appendChild(shiftItem);
                    }
                });

                // Add car rides
                scheduleData.carRides.forEach(ride => {
                    if (ride.date === dateStr) {
                        const rideItem = document.createElement('div');
                        rideItem.classList.add('schedule-item', 'car-ride');
                        rideItem.textContent = `🚗 ${ride.time} ${ride.child}`;
                        dayCell.appendChild(rideItem);
                    }
                });

                calendarGrid.appendChild(dayCell);
            }
        }

        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            generateCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            generateCalendar();
        }

        // Initialize calendar and lists on page load
        window.onload = function() {
            generateCalendar();
            updateNightShiftList();
            updateCarRideList();
        };
    </script>
</body>
</html>
